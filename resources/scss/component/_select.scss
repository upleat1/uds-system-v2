/* 셀렉트 */
//사이즈 정의
@mixin form-select-size-variable() {
	$form-select-size: (
		small: (
			size-height: var(--upl-size-height-6),
			icon-size: var(--upl-icon--size-small),
			radius: var(--upl-radius-medium3),
			padding-right: calc(var(--upl-form-select--padding-default) + var(--upl-gap-3) + var(--upl-form-select--icon-size-small)),
			pc-font-size: var(--upl-pc-font-size-label-small),
			mobile-font-size: var(--upl-mobile-font-size-label-small),
		),
		medium: (
			size-height: var(--upl-size-height-7),
			icon-size: var(--upl-icon--size-medium),
			padding-right: calc(var(--upl-form-select--padding-default) + var(--upl-gap-3) + var(--upl-form-select--icon-size-medium)),
			radius: var(--upl-radius-medium2),
			pc-font-size: var(--upl-pc-font-size-label-medium),
			mobile-font-size: var(--upl-mobile-font-size-label-medium),
		),
		large: (
			size-height: var(--upl-size-height-8),
			icon-size: var(--upl-icon--size-large),
			padding-right: calc(var(--upl-form-select--padding-default) + var(--upl-gap-3) + var(--upl-form-select--icon-size-large)),
			radius: var(--upl-radius-medium1),
			pc-font-size: var(--upl-pc-font-size-label-large),
			mobile-font-size: var(--upl-mobile-font-size-label-large),
		),
	) !default;
	--upl-form-select--padding-default: var(--upl-padding-6);

	@each $size, $types in $form-select-size {
		@each $type, $value in $types {
			//css variable 생성
			--upl-form-select--#{$type}-#{$size}: #{$value};
		}
	}

	& {
		//default size large
		@include form-select-size(large);

		@each $size, $types in $form-select-size {
			&.#{$size} {
				@include form-select-size(#{$size});
			}
		}
	}
}

//컬러 정의
@mixin form-select-color-variable($mode: light) {
	--upl-form-select--color-background: var(--upl-#{$mode}-color-input-surface);
	--upl-form-select--color-background-readonly: var(--upl-#{$mode}-color-input-surface-disabled);
	--upl-form-select--color-background-disabled: var(--upl-#{$mode}-color-input-surface-disabled);
	--upl-form-select--color-background-error: var(--upl-#{$mode}-color-input-surface);
	--upl-form-select--icon-color-background: var(--upl-#{$mode}-color-icon-gray);
	--upl-form-select--icon-color-background-readonly: var(--upl-#{$mode}-color-icon-disabled-on);
	--upl-form-select--icon-color-background-disabled: var(--upl-#{$mode}-color-icon-disabled-on);
	--upl-form-select--color-border: var(--upl-#{$mode}-color-input-border);
	--upl-form-select--color-border-active: var(--upl-#{$mode}-color-input-border-active);
	--upl-form-select--color-border-readonly: var(--upl-#{$mode}-color-input-border-disabled);
	--upl-form-select--color-border-disabled: var(--upl-#{$mode}-color-input-border-disabled);
	--upl-form-select--color-border-error: var(--upl-#{$mode}-color-input-border-error);
	--upl-form-select--color-text: var(--upl-#{$mode}-color-text-disabled);
	--upl-form-select--color-text-active: var(--upl-#{$mode}-color-text-basic);
	--upl-form-select--color-text-completed: var(--upl-#{$mode}-color-text-subtle);
	--upl-form-select--color-text-disabled: var(--upl-#{$mode}-color-text-disabled-on);
	--upl-form-select--color-text-error: var(--upl-#{$mode}-color-text-subtle);
}

@mixin form-select-size($unit) {
	height: var(--upl-form-select--size-height-#{$unit});
	padding:0 var(--upl-form-select--padding-right-#{$unit}) 0 var(--upl-form-select--padding-default);
	background-position: center right var(--upl-form-select--padding-default);
	background-size: var(--upl-form-select--icon-size-#{$unit}) !important;
	border-radius: var(--upl-form-select--radius-#{$unit});
	font-size: var(--upl-form-select--pc-font-size-#{$unit});
	@include size-medium {
		font-size: var(--upl-form-select--mobile-font-size-#{$unit});
	}
}
//모드 설정
$mode-setting: light;

.upl-form-select {
	@include form-select-color-variable(#{$mode-setting});
	@include form-select-size-variable();

	& {
		position: relative;
		width: 100%;
		@include icon-set(ico_angle, $effect: pure);
		background-color: var(--upl-form-select--color-background) !important;
		@include border-size-mode(#{$mode-setting});
		border-style: solid;
		border-color: var(--upl-form-select--color-border);
		font-family: inherit;
		color: var(--upl-form-select--color-text);
		transition: var(--upl-transition-base);
	}
	&:focus {
		border-color: var(--upl-form-select--color-border-active);
		border-width: 2px;
		outline: none;
		box-shadow: none;
		color: var(--upl-form-select--color-text-active);
	}
	&.completed {
		color: var(--upl-form-select--color-text-completed);
	}
	&.is-error {
		border-color: var(--upl-light-color-text-point);
		border-width: 2px;
	}
	&[disabled] {
		@include icon-set(ico_angle_disabled, $effect: pure);
		background-color: var(--upl-form-select--color-background-disabled) !important;
		border-color: var(--upl-form-select--color-border-disabled);
		color: var(--upl-form-select--color-text-disabled);
	}
}

.is-error {
	.upl-form-select {
		border-color: var(--upl-light-color-text-point);
		border-width: 2px;
	}
}
//고대비모드
@include color-mode($mode: dark) {
	//모드 설정
	$mode-setting: dark;
	.upl-form-select {
		@include form-select-color-variable(#{$mode-setting});

		@include border-size-mode(#{$mode-setting});
		@include icon-set(ico_angle_inverse, $effect: pure);
		background-color: var(--upl-form-select--color-background) !important;
		&[disabled] {
			@include icon-set(ico_angle_disabled_inverse, $effect: pure);
			background-color: var(--upl-form-select--color-background-disabled) !important;
		}
	}
}

/* sorting select */
//size variable
$form-select-sorting-size: (
	small: (
		icon-size: var(--upl-icon--size-small),
		padding-left: var(--upl-padding-1),
		padding-right: calc(var(--upl-form-select-sorting--padding-left) + var(--upl-gap-1) + var(--upl-form-select-sorting--icon-size-small)),
		pc-font-size: var(--upl-pc-font-size-label-small),
		mobile-font-size: var(--upl-mobile-font-size-label-small),
	),
	medium: (
		icon-size: var(--upl-icon--size-medium),
		padding-left: var(--upl-padding-2),
		padding-right: calc(var(--upl-form-select-sorting--padding-left) + var(--upl-gap-1) + var(--upl-form-select-sorting--icon-size-medium)),
		pc-font-size: var(--upl-pc-font-size-label-medium),
		mobile-font-size: var(--upl-mobile-font-size-label-medium),
	),
	large: (
		icon-size: var(--upl-icon--size-large),
		padding-left: var(--upl-padding-2),
		padding-right: calc(var(--upl-form-select-sorting--padding-left) + var(--upl-gap-1) + var(--upl-form-select-sorting--icon-size-large)),
		pc-font-size: var(--upl-pc-font-size-heading-small),
		mobile-font-size: var(--upl-mobile-font-size-heading-small),
	),
) !default;
@mixin form-select-sorting-color-variable($mode: light) {
	--upl-form-select-sorting--color-background: var(--upl-#{$mode}-color-action-secondary);
	--upl-form-select-sorting--color-background-hover: var(--upl-#{$mode}-color-action-secondary-hover);
	--upl-form-select-sorting--color-background-pressed: var(--upl-#{$mode}-color-action-secondary-pressed);
	--upl-form-select-sorting--color-text: var(--upl-#{$mode}-color-text-basic);
}
@mixin form-select-sorting-size($unit) {
	padding:0 var(--upl-form-select-sorting--padding-right-#{$unit}) 0 var(--upl-form-select-sorting--padding-left);
	background-position: center right var(--upl-form-select-sorting--padding-left);
	background-size: var(--upl-form-select-sorting--icon-size-#{$unit}) !important;
	font-size: var(--upl-form-select-sorting--pc-font-size-#{$unit});
	@if ($unit == 'large') {
		font-weight: var(--upl-font-weight-bold);
	}
	@include size-medium {
		font-size: var(--upl-form-select-sorting--mobile-font-size-#{$unit});
	}
}
.upl-form-select-sort {
	@include form-select-sorting-color-variable($mode: #{$mode-setting});

	--upl-form-select-sorting--padding-left: var(--upl-padding-2);
	--upl-form-select-sorting--radius: var(--upl-radius-small2);
	@each $size, $types in $form-select-sorting-size {
		@each $type, $value in $types {
			//css variable 생성
			--upl-form-select-sorting--#{$type}-#{$size}: #{$value};
		}
	}

	position: relative;
	@include icon-set(ico_angle, $effect: pure);
	background-color: var(--upl-form-select-sorting--color-background) !important;
	border: none;
	border-radius: var(--upl-form-select-sorting--radius);
	font-family: inherit;
	color: var(--upl-form-select-sorting--color-text);
	transition: var(--upl-transition-base);
	& {
		@include form-select-sorting-size(medium);

		@each $size, $types in $form-select-sorting-size {
			&.#{$size} {
				@include form-select-sorting-size(#{$size});
			}
		}
	}
	&:hover {
		background-color: var(--upl-form-select-sorting--color-background-hover) !important;
	}
	&:focus {
		background-color: var(--upl-form-select-sorting--color-background-pressed) !important;
	}
}
//고대비모드
@include color-mode($mode: dark) {
	//모드 설정
	$mode-setting: dark;
	.upl-form-select-sort {
		@include form-select-sorting-color-variable($mode: #{$mode-setting});
		@include icon-set(ico_angle_inverse, $effect: pure);
		background-color: var(--upl-form-select-sorting--color-background) !important;
		&:hover {
			background-color: var(--upl-form-select-sorting--color-background-hover) !important;
		}
		&:focus {
			background-color: var(--upl-form-select-sorting--color-background-pressed) !important;
		}
	}
}