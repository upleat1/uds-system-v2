/* 라디오 버튼 / 체크박스 chip */
//사이즈 정의
@mixin form-chip-size-variable() {
	$form-chip-size: (
		small: (
			size-height: var(--upl-size-height-6),
			check-size: 1.2rem,
			padding-x: var(--upl-padding-4),
			radius: var(--upl-radius-medium1),
			pc-font-size: var(--upl-pc-font-size-label-small),
			mobile-font-size: var(--upl-pc-font-size-label-small),
		),
		medium: (
			size-height: var(--upl-size-height-7),
			check-size: var(--upl-icon--size-small),
			padding-x: var(--upl-padding-5),
			radius: var(--upl-radius-medium2),
			pc-font-size: var(--upl-pc-font-size-label-medium),
			mobile-font-size: var(--upl-pc-font-size-label-medium),
		),
		large: (
			size-height: var(--upl-size-height-8),
			check-size: var(--upl-icon--size-small),
			padding-x: var(--upl-padding-6),
			radius: var(--upl-radius-medium3),
			pc-font-size: var(--upl-pc-font-size-label-large),
			mobile-font-size: var(--upl-pc-font-size-label-large),
		),
	) !default;

	//css variable 새성
	@each $size, $types in $form-chip-size {
		@each $type, $value in $types {
			//css variable 생성
			--upl-form-chip--#{$type}-#{$size}: #{$value};
		}
	}

	--upl-form-chip--gap: var(--upl-gap-2);

	//class 정의
	& {
		//사이즈 별 class
		@each $size, $types in $form-chip-size {
			&.#{$size} {
				input[type=radio],
				input[type=checkbox] {
					~ label {
						@include form-chip(#{$size});

						&:before {
							@include form-chip-check($size: #{$size}, $mode: #{$mode-setting});
						}
					}
				}
			}
		}
	}
}

//컬러 정의
@mixin form-chip-color-variable($mode: light) {
	--upl-form-chip--color-text: var(--upl-#{$mode}-color-text-basic);
	--upl-form-chip--color-text-checked: var(--upl-#{$mode}-color-text-primary);
	--upl-form-chip--color-text-disabled: var(--upl-#{$mode}-color-text-disabled-on);
	--upl-form-chip--color-action: var(--upl-#{$mode}-color-action-white);
	--upl-form-chip--color-action-checked: var(--upl-#{$mode}-color-action-primary-selected);
	--upl-form-chip--color-action-disabled: var(--upl-#{$mode}-color-action-disabled);
	--upl-form-chip--color-border: var(--upl-#{$mode}-color-border-gray);
	--upl-form-chip--color-border-checked: var(--upl-#{$mode}-color-border-primary);
	--upl-form-chip--color-border-disabled: var(--upl-#{$mode}-color-border-disabled);
	--upl-form-chip--color-check: var(--upl-#{$mode}-color-element-disabled-dark);
	--upl-form-chip--color-check-checked: var(--upl-#{$mode}-color-icon-primary);
	--upl-form-chip--color-check-disabled: var(--upl-#{$mode}-color-icon-disabled-on);
}

//칩 사이즈 정의
@mixin form-chip($size) {
	gap: var(--upl-form-chip--gap);
	height: var(--upl-form-chip--size-height-#{$size});
	padding: 0 var(--upl-form-chip--padding-x-#{$size});
	background-color: var(--upl-form-chip--color-action);
	border: 0.1rem solid var(--upl-form-chip--color-border);
	border-radius: var(--upl-form-chip--radius-#{$size});
	font-size: var(--upl-form-chip--pc-font-size-#{$size});
	color: var(--upl-form-chip--color-text);
	transition: .4s cubic-bezier(.4, .0, .23, 1);
	@include size-medium {
		font-size: var(--upl-form-chip--mobile-font-size-#{$size});
	}
}
//check icon 정의
@mixin form-chip-check($size, $mode: light) {
	@include svg-icon($size: var(--upl-form-chip--check-size-#{$size}), $mode: #{$mode});
	@include icon-set(ico_checkbox_checked);
	background-color: var(--upl-form-chip--color-check);
	transition: .4s cubic-bezier(.4, .0, .23, 1);
}

//모드 설정
$mode-setting: light;
.upl-form-chip {
	@include form-chip-color-variable($mode: #{$mode-setting});
	@include form-chip-size-variable();

	$size: medium;

	input[type=radio],
	input[type=checkbox] {
		~ label {
			display: inline-flex;
			align-items: center;
			position: relative;
			@include form-chip(#{$size});


			&:before {
				@include pseudo();
				@include form-chip-check($size: #{$size}, $mode: #{$mode-setting});
			}
		}
		&:disabled {
			~ label {
				background-color: var(--upl-form-chip--color-action-disabled);
				border-color: var(--upl-form-chip--color-border-disabled);
				color: var(--upl-form-chip--color-text-disabled);
				cursor: default;
				&:before {
					background-color: var(--upl-form-chip--color-check-disabled) !important;
				}
			}
		}
		&:checked {
			~ label {
				background-color: var(--upl-form-chip--color-action-checked);
				border-color: var(--upl-form-chip--color-border-checked);
				color: var(--upl-form-chip--color-text-checked);
				&:before {
					background-color: var(--upl-form-chip--color-check-checked);
				}
			}
		}
	}
	input[type=radio] { //radio 인 경우 check 시에만 아이콘 노출
		~ label {
			&:before {
				display: none !important;
			}
		}
		&:checked {
			~ label {
				&:before {
					display: inline-flex !important;
					background-color: var(--upl-form-chip--color-check-checked);
				}
			}
		}
		&:disabled {
			~ label {
				&:before {
					display: none !important;
				}
			}
		}
	}

	&.focus {
		input[type=checkbox] ~ label, 
		input[type=radio] ~ label {
			@include focus();
		}
	}
}

//고대비모드
@include color-mode($mode: dark) {
	//모드 설정
	$mode-setting: dark;
	.upl-form-chip {
		@include form-chip-color-variable($mode: #{$mode-setting});

		$size: medium;

		input[type=radio],
		input[type=checkbox] {
			~ label {
				&:before {
					@include form-chip-check($size: #{$size}, $mode: #{$mode-setting});
				}
			}
			&:disabled {
				~ label {
					&:before {
						background-color: var(--upl-form-chip--color-check-disabled) !important;
					}
				}
			}
			&:checked {
				~ label {
					&:before {
						background-color: var(--upl-form-chip--color-check-checked);
					}
				}
			}
		}
	}
}