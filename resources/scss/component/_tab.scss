/* 탭 */
//사이즈 정의
@mixin tab-size-variable() {
	--upl-tab--button-size-height: var(--upl-size-height-7);
	--upl-tab--button-size-min-width: 6.4rem;
	--upl-tab--button-pc-font-size: var(--upl-pc-font-size-heading-xsmall);
	--upl-tab--button-mobile-font-size: var(--upl-mobile-font-size-heading-xsmall);
	--upl-tab--gap: var(--upl-gap-3);
	--upl-tab--full-button-size-height: var(--upl-size-height-8);
	--upl-tab--full-button-pc-font-size: var(--upl-pc-font-size-heading-small);
	--upl-tab--full-button-mobile-font-size: var(--upl-mobile-font-size-heading-small);
	--upl-tab--line-button-padding: var(--upl-padding-2);
	--upl-tab--fill-button-padding: var(--upl-padding-3);
	--upl-tab--fill-button-radius: var(--upl-radius-medium2);
	--upl-tab--conts-padding-top: var(--upl-padding-10);
	--upl-tab--mobile-button-trigger-size-height: var(--upl-size-height-7);
	--upl-tab--mobile-button-trigger-padding-x: var(--upl-padding-6);
	--upl-tab--mobile-button-trigger-radius: var(--upl-radius-medium1);
}
//컬러 정의
@mixin tab-color-variable($mode: light) {
	--upl-tab--button-color-action: var(--upl-#{$mode}-color-action-secondary);
	--upl-tab--button-color-action-hover: var(--upl-#{$mode}-color-action-secondary-hover);
	--upl-tab--button-color-action-pressed: var(--upl-#{$mode}-color-action-secondary-pressed);
	--upl-tab--button-color-border: var(--upl-#{$mode}-color-action-secondary);
	--upl-tab--button-color-text: var(--upl-#{$mode}-color-text-subtle);
	--upl-tab--button-color-text-disabled: var(--upl-#{$mode}-color-text-disabled);
	--upl-tab--fill-button-color-action-active: var(--upl-#{$mode}-color-action-secondary-active);
	--upl-tab--fill-button-color-border: var(--upl-#{$mode}-color-border-gray);
	--upl-tab--fill-button-color-border-active: var(--upl-#{$mode}-color-action-secondary-active);
	--upl-tab--fill-button-color-text: var(--upl-#{$mode}-color-text-inverse-static);
	--upl-tab--line-button-color-border: var(--upl-#{$mode}-color-border-gray);
	--upl-tab--line-button-color-line-active: var(--upl-#{$mode}-color-action-secondary-active);
	--upl-tab--line-button-color-text-active: var(--upl-#{$mode}-color-text-secondary);
	--upl-tab--mobile-button-trigger-color-text: var(--upl-#{$mode}-color-text-inverse-static);
	--upl-tab--mobile-button-trigger-color-action: var(--upl-#{$mode}-color-action-secondary-active);
}

//모드 설정
$mode-setting: light;
.upl-tab-area {
	@include flex-layout($fd: column);
	gap: var(--upl-gap-8);
	width: 100%;

	@include size-medium {
		gap: var(--upl-gap-8);
	}
}
.tab {
	@include tab-size-variable();
	@include tab-color-variable(#{$mode-setting});
	
	> ul {
		@include flex-layout($ai: center);
		gap: var(--upl-tab--gap);
		overflow-x: auto;
		width: 100%;
	}
	li,
	.btn-tab {
		@include flex-layout(inline-flex, center, center);
		position: relative;
		white-space: nowrap;
	}
	.btn-tab {
		width: 100%;
		height: var(--upl-tab--button-size-height);
		background-color: var(--upl-tab--button-color-action);
		border: 1px solid var(--upl-tab--button-color-border);
		font-size: var(--upl-tab--button-pc-font-size);
		color: var(--upl-tab--button-color-text);
		font-weight: var(--upl-font-weight-bold);
		transition: var(--upl-transition-base);
		@include size-medium {
			font-size: var(--upl-tab--button-mobile-font-size);
		}
		&:not(:disabled):hover {
			background-color: var(--upl-tab--button-color-action-hover);
			transition: var(--upl-transition-base);
		}
		&:not(:disabled):active {
			background-color: var(--upl-tab--button-color-action-pressed);
			transition: var(--upl-transition-base);
		}
		&:focus {
			@include focus();
		}
		&[disabled] {
			color: var(--upl-tab--button-color-text-disabled);
			cursor: default;
		}
	}
	li {
		flex-grow: 0;
	}

	&.full { //풀사이즈
		width: 100%;
		.btn-tab {
			height: var(--upl-tab--full-button-size-height);
			padding: 0;
			font-size: var(--upl-tab--full-button-pc-font-size);
			@include size-medium {
				font-size: var(--upl-tab--full-button-mobile-font-size);
			}
		}
		> ul {
			@include group-wrap;
			gap: 0;
			> li {
				@include equal-width;
			}
		}
	}
	&.fill { //bg 타입
		.btn-tab {
			padding: 0 var(--upl-tab--fill-button-padding);
			border-radius: var(--upl-tab--fill-button-radius);
			&:focus {
				box-shadow: inset 0 0 0 0.6rem var(--upl-#{$mode-setting}-color-border-primary);
				outline-offset: -.4rem;
			}
		}
		.active {
			.btn-tab {
				background-color: var(--upl-tab--fill-button-color-action-active);
				border-color: var(--upl-tab--fill-button-color-border-active) !important;
				color: var(--upl-tab--fill-button-color-text);
			}
		}

		&.full {
			.btn-tab {
				border-color: var(--upl-tab--fill-button-color-border);
			}
			> ul {
				> li {
					& + li {
						.btn-tab {
							border-left: none;
						}
					}
					.btn-tab {
						border-radius: 0;
					}
					&:first-of-type {
						.btn-tab {
							border-top-left-radius: var(--upl-tab--fill-button-radius);
							border-bottom-left-radius: var(--upl-tab--fill-button-radius);
						}
					}
					&:last-of-type {
						.btn-tab {
							border-top-right-radius: var(--upl-tab--fill-button-radius);
							border-bottom-right-radius: var(--upl-tab--fill-button-radius);
						}
					}
				}
			}
		}
	}
	&.line { //line 타입
		.btn-tab {
			min-width: var(--upl-tab--button-size-min-width);
			padding: 0 var(--upl-tab--line-button-padding);
			&:before {
				@include position($b: 0, $l: 50%);
				@include pseudo();
				width: 0;
				height: 0.4rem;
				background-color: var(--upl-tab--line-button-color-line-active);
				transition: var(--upl-transition-base);
			}
		}
		.active {
			.btn-tab {
				color: var(--upl-tab--line-button-color-text-active);
				&:before {
					@include position($l: 0);
					width: 100%;
				}
			}
		}
		&.full {
			.btn-tab {
				border: 0;
				border-bottom: 2px solid var(--upl-tab--line-button-color-border);
				&:before {
					bottom: -.2rem;
				}
			}
		}
	}
}  

.tab-conts-wrap {
	width:100%;
}

.tab-conts {
	display: none;
	margin-top: var(--upl-tab--conts-padding-top);
	&.active {
		@include flex-layout($fd: column, $ai: normal);
	}
}

//mobile only
@include size-medium {
	.tab-conts {
		&.active {
			gap: var(--upl-padding-8);
		}
	}
	.tab{
		&.fill {
			&.full {
				.btn-tab {
					border-color: var(--upl-tab--fill-button-color-border);
					padding: 0 var(--upl-padding-5);
					border-width: 0;
				}
				> ul {
					gap: var(--upl-gap-3);
					flex-wrap: nowrap;
					> li {
						width: fit-content;
						flex: none;
						.btn-tab {
							border-radius: var(--upl-tab--fill-button-radius);
						}
					}
				}
			}
		}
	}
}

//고대비모드
@include color-mode($mode: dark) {
	//모드 설정
	$mode-setting: dark;
	.tab {
		@include tab-color-variable(#{$mode-setting});
	}
}