/* 버튼 / 링크 */
//사이즈 정의
@mixin button-size-variable() {
	//변수 배열 설정
	$button-size: (
		large: (
			size-height: var(--upl-number-56),
			line-height: var(--upl-number-56),
			padding-x: var(--upl-padding-16),
			padding-y: 0,
			gap: var(--upl-gap-8),
			radius: var(--upl-radius-12),
			pc-font-size: var(--upl-font-size-body-largem),
			mobile-font-size: var(--upl-font-size-body-large),
			font-weight: var(--upl-typo-font-weight-regular),
		),
		medium: (
			size-height: var(--upl-number-48),
			line-height: var(--upl-number-48),
			padding-x: var(--upl-padding-16),
			padding-y: 0,
			gap: var(---upl-gap-8),
			radius: var(--upl-radius-12),
			pc-font-size: var(--upl-font-size-body-medium),
			mobile-font-size: var(--upl-font-size-body-medium),
			font-weight: var(--upl-typo-font-weight-regular),
		),
		small: (
			size-height: var(--upl-number-40),
			line-height: var(--upl-number-40),
			padding-x: var(--upl-padding-16),
			padding-y: 0,
			gap: var(--upl-gap-8),
			radius: var(--upl-radius-medium3),
			pc-font-size: var(--upl-font-size-body-small),
			mobile-font-size: var(--upl-font-size-body-small),
			font-weight: var(--upl-typo-font-weight-regular),
		)
	) !default;

	//css variable 생성
	@each $size, $types in $button-size {
		@each $type, $value in $types {
			//css variable 생성
			--upl-button--#{$type}-#{$size}: #{$value};
		}
	}

	//class 정의
	& {
		@include btn-size(large);
		& {
			@each $size, $types in $button-size {
				&.#{$size} {
					@include btn-size(#{$size});
				}
			}
		}
	}
}

//컬러 정의
@mixin button-color-variable($mode) {
	//변수 배열 정의
	$button-color-variable: (
		primary: (
			fill: var(--upl-#{$mode}-button-stick-primary-default-background-color),
			fill-hover: var(--upl-#{$mode}-button-stick-primary-pressed-background-color),
			fill-pressed: var(--upl-#{$mode}-button-stick-primary-pressed-background-color),
			fill-disabled: var(--upl-#{$mode}-button-stick-primary-disabled-background-color),
			border: var(--upl-#{$mode}-color-button-primary-fill),
			border-disabled: var(--upl-#{$mode}-color-button-disabled-border),
			text: var(--upl-#{$mode}-color-text-inverse-static),
			text-disabled: var(--upl-#{$mode}-color-text-disabled-on),
		),
		secondary: (
			fill: var(--upl-#{$mode}-color-button-secondary-fill),
			fill-hover: var(--upl-#{$mode}-color-button-secondary-fill-hover),
			fill-pressed: var(--upl-#{$mode}-color-button-secondary-fill-pressed),
			fill-disabled: var(--upl-#{$mode}-color-button-disabled-fill),
			border: var(--upl-#{$mode}-color-button-secondary-border),
			border-disabled: var(--upl-#{$mode}-color-button-disabled-border),
			text: var(--upl-#{$mode}-color-text-primary),
			text-disabled: var(--upl-#{$mode}-color-text-disabled-on),
		),
		outlined: (
			fill: var(--upl-#{$mode}-color-button-outlined-fill),
			fill-hover: var(--upl-#{$mode}-color-button-outlined-fill-hover),
			fill-pressed: var(--upl-#{$mode}-color-button-outlined-fill-pressed),
			fill-disabled: var(--upl-#{$mode}-color-button-disabled-fill),
			border: var(--upl-#{$mode}-color-button-outlined-border),
			border-disabled: var(--upl-#{$mode}-color-button-disabled-border),
			text: var(--upl-#{$mode}-color-text-basic),
			text-disabled: var(--upl-#{$mode}-color-text-disabled-on),
		),
		text: (
			fill: var(--upl-#{$mode}-color-button-text-fill),
			fill-hover: var(--upl-#{$mode}-color-button-text-fill-hover),
			fill-pressed: var(--upl-#{$mode}-color-button-text-fill-pressed),
			fill-disabled: var(--upl-#{$mode}-color-button-text-fill),
			border: var(--upl-#{$mode}-color-button-text-border),
			border-disabled: var(--upl-#{$mode}-color-border-transparency),
			text: var(--upl-#{$mode}-color-text-basic),
			text-disabled: var(--upl-#{$mode}-color-text-disabled),
		),
		link: (
			fill: var(--upl-#{$mode}-color-button-text-fill),
			fill-hover: var(--upl-#{$mode}-color-button-text-fill),
			fill-pressed: var(--upl-#{$mode}-color-button-text-fill),
			fill-disabled: var(--upl-#{$mode}-color-button-text-fill),
			border: var(--upl-#{$mode}-color-button-text-border),
			border-disabled: var(--upl-#{$mode}-color-border-transparency),
			text: var(--upl-#{$mode}-color-link-default),
			text-disabled: var(--upl-#{$mode}-color-text-disabled),
		),
	) !default;

	//css variable 생성
	@each $color, $types in $button-color-variable {
		@each $type, $value in $types {
			--upl-button--color-#{$color}-#{$type}: #{$value};
		}
	}

	//class 생성
	& {
		@include btn-color(primary);

		& {
			//컬러 별 class
			@each $color, $types in $button-color-variable {
				&.#{$color} {
					@include btn-color(#{$color});
					&:not(.icon) {
						.svg-icon {
							@include btn-color-icon(#{$color});
						}
					}

					&:hover {
						@include btn-color-hover(#{$color});
					}
					&:active,
					&:focus {
						@include btn-color-pressed(#{$color});
					}

					&[disabled],
					&.disabled {
						@include btn-color-disabled(#{$color});
						&:not(.icon) {
							.svg-icon {
								background-color: var(--upl-button--color-#{$color}-text-disabled);
							}
						}
						&:hover {
							@include btn-color-disabled(#{$color});
						}
					}
				}
			}
		}
	}
}

/* icon 버튼 사이즈 */
$button-icon-size: (
	xsmall: var(--upl-size-height-2),
	small: var(--upl-size-height-3),
	medium: var(--upl-size-height-4),
	large: var(--upl-size-height-5),
	xlarge: var(--upl-size-height-6),
) !default;

//text버튼은 높이와 좌우 padding값이 달라 재정의 함
@mixin btn-text-variable() {
	//text버튼은 높이와 좌우 padding값이 달라 재정의 함
	--upl-button--size-height-xsmall: var(--upl-size-height-3);
	--upl-button--padding-x-xsmall: var(--upl-padding-1);
	--upl-button--padding-y-xsmall: var(--upl-number-0);

	--upl-button--size-height-small: var(--upl-size-height-4);
	--upl-button--padding-x-small: var(--upl-padding-1);
	--upl-button--padding-y-small: var(--upl-number-0);

	--upl-button--size-height-medium: var(--upl-size-height-5);
	--upl-button--padding-x-medium: var(--upl-padding-1);
	--upl-button--padding-y-medium: var(--upl-number-2);

	--upl-button--size-height-large: var(--upl-size-height-6);
	--upl-button--padding-x-large: var(--upl-padding-1);
	--upl-button--padding-y-large: 0.5rem;

	--upl-button--size-height-xlarge: var(--upl-size-height-7);
	--upl-button--padding-x-xlarge: var(--upl-padding-1);
	--upl-button--padding-y-xlarge: 0.9rem;
}
//link버튼은 font size와 좌우 padding값이 달라 재정의 함
@mixin btn-link-variable() {
	--upl-button--pc-font-size-xsmall: var(--upl-pc-font-size-label-small);
	--upl-button--mobile-font-size-xsmall: var(--upl-mobile-font-size-label-small);
	--upl-button--padding-x-xsmall: var(--upl-padding-1);

	--upl-button--pc-font-size-small: var(--upl-pc-font-size-label-small);
	--upl-button--mobile-font-size-small: var(--upl-mobile-font-size-label-small);
	--upl-button--padding-x-small: var(--upl-padding-1);

	--upl-button--pc-font-size-medium: var(--upl-pc-font-size-label-medium);
	--upl-button--mobile-font-size-medium: var(--upl-mobile-font-size-label-medium);
	--upl-button--padding-x-medium: var(--upl-padding-1);

	--upl-button--pc-font-size-large: var(--upl-pc-font-size-label-large);
	--upl-button--mobile-font-size-large: var(--upl-mobile-font-size-label-large);
	--upl-button--padding-x-large: var(--upl-padding-1);

	--upl-button--pc-font-size-xlarge: var(--upl-pc-font-size-label-large);
	--upl-button--mobile-font-size-xlarge: var(--upl-mobile-font-size-label-large);
	--upl-button--padding-x-xlarge: var(--upl-padding-1);
}

//컬러별 variable
@mixin btn-color($color) {
	background-color: var(--upl-button--color-#{$color}-fill);
	border-color: var(--upl-button--color-#{$color}-border);
	color: var(--upl-button--color-#{$color}-text);
}
@mixin btn-color-hover($color) {
	background-color: var(--upl-button--color-#{$color}-fill-hover);
}
@mixin btn-color-pressed($color) {
	background-color: var(--upl-button--color-#{$color}-fill-pressed);
}
@mixin btn-color-disabled($color) {
	background-color: var(--upl-button--color-#{$color}-fill-disabled);
	border-color: var(--upl-button--color-#{$color}-border-disabled);
	color: var(--upl-button--color-#{$color}-text-disabled);
}
@mixin btn-color-icon($color) {
	background-color: var(--upl-button--color-#{$color}-text);
}

//모드 설정
$mode-setting: light;
.upl-btn {
	@include button-size-variable();
}
.upl-btn {
	@include button-color-variable(#{$mode-setting});

	& {
		//기본버튼: primary large
		@include flex-layout($d: inline-flex, $ai: center, $jc: center);
		width: auto;
		border-style: solid;
		cursor: pointer;
		white-space: nowrap;
		transition: var(--upl-transition-base);
		@include border-size-mode(#{$mode-setting});
	}

	.svg-icon {
		@include btn-color-icon(primary);
		transition: var(--upl-transition-base);
	}
	&:hover {
		@include btn-color-hover(primary);
	}
	&:active,
	&:focus {
		@include btn-color-pressed(primary);
	}
	&[disabled],
	&.disabled {
		@include btn-color-disabled(primary);
		cursor: default;
		&:hover {
			@include btn-color-disabled(primary);
		}
	}

	&.text { //높이를 가짐
		@include btn-text-variable();

		//large 사이즈 기준 기본 세팅수정
		display: inline-block;
		height: auto !important;
		padding: var(--upl-button--padding-y-large) var(--upl-button--padding-x-large);
		text-align: left;
		white-space: normal;
		&.xsmall {
			min-height: var(--upl-button--size-height-xsmall);
			padding: var(--upl-button--padding-y-xsmall) var(--upl-button--padding-x-xsmall);
			.svg-icon {
				margin-bottom: -0.3rem;
			}
		}
		&.small {
			padding: var(--upl-button--padding-y-small) var(--upl-button--padding-x-small);
			.svg-icon {
				margin-bottom: -0.3rem;
			}
		}
		&.medium {
			padding: var(--upl-button--padding-y-medium) var(--upl-button--padding-x-medium);
			.svg-icon {
				margin-bottom: -0.4rem;
			}
		}
		&.large {
			padding: var(--upl-button--padding-y-large) var(--upl-button--padding-x-large);
			.svg-icon {
				margin-bottom: -0.5rem;
			}
		}
		&.xlarge {
			padding: var(--upl-button--padding-y-xlarge) var(--upl-button--padding-x-xlarge);
			.svg-icon {
				margin-bottom: -0.6rem;
			}
		}
		&.h-auto {
			height: auto;
			padding: var(--upl-padding-1) !important;
		}
		.svg-icon {
			display: inline-block;
			margin-bottom: -0.5rem;
		}
	}
	&.link { //링크인 경우 (텍스트 버튼과 비슷해보이지만 높이값 없음)
		@include btn-link-variable();
		//large 사이즈 기준 기본 세팅수정
		display: inline-block;
		height: auto !important;
		padding: 0 var(--upl-button--padding-x-large);
		font-size: var(--upl-button--pc-font-size-large);
		text-align: left;
		white-space: normal;
		@include size-medium {
			font-size: var(--upl-button--mobile-font-size-large);
		}
		&.xsmall {
			padding: 0 var(--upl-button--padding-x-xsmall);
			font-size: var(--upl-button--pc-font-size-xsmall);
			@include size-medium {
				font-size: var(--upl-button--mobile-font-size-xsmall);
			}
			.svg-icon {
				margin-bottom: -0.3rem;
			}
		}
		&.small {
			padding: 0 var(--upl-button--padding-x-small);
			font-size: var(--upl-button--pc-font-size-small);
			@include size-medium {
				font-size: var(--upl-button--mobile-font-size-small);
			}
			.svg-icon {
				margin-bottom: -0.3rem;
			}
		}
		&.medium {
			padding: 0 var(--upl-button--padding-x-medium);
			font-size: var(--upl-button--pc-font-size-medium);
			@include size-medium {
				font-size: var(--upl-button--mobile-font-size-medium);
			}
			.svg-icon {
				margin-bottom: -0.4rem;
			}
		}
		&.large {
			padding: 0 var(--upl-button--padding-x-large);
			font-size: var(--upl-button--pc-font-size-large);
			@include size-medium {
				font-size: var(--upl-button--mobile-font-size-large);
			}
			.svg-icon {
				margin-bottom: -0.5rem;
			}
		}
		&.xlarge {
			padding: 0 var(--upl-button--padding-x-xlarge);
			font-size: var(--upl-button--pc-font-size-xlarge);
			@include size-medium {
				font-size: var(--upl-button--mobile-font-size-xlarge);
			}
			.svg-icon {
				margin-bottom: -0.6rem;
			}
		}
		&.basic {
			$color: var(--upl-#{$mode-setting}-color-text-basic);
			color: $color;
			@include underline();
			text-decoration-color: var(--upl-#{$mode-setting}-color-border-transparency);
			.svg-icon {
				background-color: $color;
			}
			&:hover,
			&:active,
			&:focus {
				text-decoration-color: inherit;
			}
		}
		&:hover {
			$color: var(--upl-#{$mode-setting}-color-link-hover);
			color: $color;
			.svg-icon {
				background-color: $color;
			}
		}
		&:active,
		&:focus {
			$color: var(--upl-#{$mode-setting}-color-link-pressed);
			color: $color;
			.svg-icon {
				background-color: $color;
			}
		}
		&:visited {
			$color: var(--upl-#{$mode-setting}-color-link-visited);
			color: $color;
			text-decoration: none;
			.svg-icon {
				background-color: $color;
			}
		}
		.svg-icon {
			display: inline-block;
			margin-bottom: -0.5rem;
		}
	}

	/* icon 버튼 (텍스트 없음) */
	&.icon {
		@each $size, $value in $button-icon-size {
			--upl-button--icon-size-#{$size}: #{$value};
		}

		//기본 세팅
		@include square(var(--upl-button--icon-size-medium));
		padding: 0 !important;
		background-color: transparent;
		border-color: var(--upl-#{$mode-setting}-color-border-transparency);
		color: inherit;
		border: 0;
		&:hover,
		&:active {
			background-color: inherit;
		}

		& {
			@each $size, $value in $button-icon-size {
				&.#{$size} {
					@include square(var(--upl-button--icon-size-#{$size}));
					//icon size
					.svg-icon {
						@include square(100%);
					}
				}
			}
		}

		.svg-icon {
			background-color: var(--upl-#{$mode-setting}-color-text-basic);
		}
		&.pure {
			.svg-icon {
				background-color: transparent;
			}
		}
		//새로고침, 토글 등 보더 아이콘 버튼 형태
		&.border {
			background-color: var(--upl-#{$mode-setting}-color-background-white);
			border: 0.1rem solid var(--upl-#{$mode-setting}-color-border-gray);
			border-radius: var(--upl-radius-max);

			//icon size 1.6rem
			&.large {
				.svg-icon {
					@include square(var(--upl-icon--size-xsmall));
				}
			}
			&.xlarge {
				.svg-icon {
					@include square(var(--upl-icon--size-xlarge));
				}
			}
			&[disabled],
			&.disabled {
				background-color: var(--upl-#{$mode-setting}-color-button-disabled-fill);
			}
		}
	}
}

//고대비모드
@include color-mode($mode: dark) {
	//모드 설정
	$mode-setting: dark;
	.upl-btn {
		@include border-size-mode(#{$mode-setting});
		@include button-color-variable(#{$mode-setting});


		&.text {
			//class명 검토
			&.ico-filter {
				.num {
					color: var(--upl-#{$mode-setting}-color-text-basic-inverse);
					background-color: var(--upl-#{$mode-setting}-color-element-primary);
				}
			}
		}
		&.link {
			&.basic {
				$color: var(--upl-#{$mode-setting}-color-text-basic);
				color: $color;
				&:not(.icon) {
					.svg-icon {
						background-color: $color;
					}
				}
			}
			&:hover {
				$color: var(--upl-#{$mode-setting}-color-link-hover);
				color: $color;
				&:not(.icon) {
					.svg-icon {
						background-color: $color;
					}
				}
			}
			&:active,
			&:focus {
				$color: var(--upl-#{$mode-setting}-color-link-pressed);
				color: $color;
				&:not(.icon) {
					.svg-icon {
						background-color: $color;
					}
				}
			}
			&:visited {
				$color: var(--upl-#{$mode-setting}-color-link-visited);
				color: $color;
				&:not(.icon) {
					.svg-icon {
						background-color: $color;
					}
				}
			}

		}
		/* icon 버튼 (텍스트 없음) */
		&.icon {
			background-color: transparent;
			border-color: var(--upl-#{$mode-setting}-color-border-transparency);

			.svg-icon {
				background-color: var(--upl-#{$mode-setting}-color-text-basic);
			}
			//새로고침, 토글 등 보더 아이콘 버튼 형태
			&.border {
				background-color: var(--upl-#{$mode-setting}-color-background-white);
				border-color: var(--upl-#{$mode-setting}-color-border-gray);

				&[disabled],
				&.disabled {
					background-color: var(--upl-#{$mode-setting}-color-button-disabled-fill);
				}
			}
		}


	}
}

/* **** button area **** */
.btn-wrap {
	width: 100%;
}