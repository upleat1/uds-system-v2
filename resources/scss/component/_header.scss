/* 헤더 */
//사이즈 정의
@mixin header-size-variable() {
	--upl-header--utility-gap: var(--upl-gap-4);
	--upl-header--container-gap: var(--upl-gap-2);
	--upl-header--container-padding-top: var(--upl-padding-5);
	--upl-header--container-padding-bottom: var(--upl-padding-6);
	--upl-header--navi-min-height: var(--upl-size-height-6);
	--upl-header--navi-gap: var(--upl-gap-2) var(--upl-gap-3);
	--upl-header--navi-padding: var(--upl-padding-2) var(--upl-padding-5) 0;
	--upl-header--navi-border-radius: var(--upl-radius-medium1);
	--upl-header--navi-font-size-pc: var(--upl-pc-font-size-navigation-depth-medium-bold);
	--upl-header--navi-font-size-mobile: var(--upl-mobile-font-size-navigation-depth-small-bold);
}

//컬러 정의
@mixin header-color-variable($mode: light) {
	--upl-header--color-surface: var(--upl-#{$mode}-color-surface-white);
	--upl-header--utility-color-divider: var(--upl-#{$mode}-color-divider-gray-light);
	--upl-header--navi-color-text: var(--upl-#{$mode}-color-text-basic);
	--upl-header--navi-color-hover: var(--upl-#{$mode}-color-action-secondary-hover);
	--upl-header--navi-color-pressed: var(--upl-#{$mode}-color-action-secondary-pressed);
}

//모드 설정
$mode-setting: light;

#upl-header {
	@include header-size-variable();
	@include header-color-variable(#{$mode-setting});

	@include position($p: sticky, $t: 0, $l: 0);
	z-index: 70;
	background-color: var(--upl-header--color-surface);
	.header-in {
		position: relative;
		transform: translateY(0);
	}

	.header-utility {
		@include flex-layout($jc: flex-end);
		.utility-list {
			@include flex-layout($jc: flex-end);
			& > li {
				@include flex-layout($ai: center);
				&:not(:first-child) {
					gap: var(--upl-header--utility-gap);
					margin-left: var(--upl-header--utility-gap);
					&::before {
						display: inline-flex;
						@include pseudo();
						width: 0.1rem;
						height: var(--upl-size-height-2);
						background-color: var(--upl-header--utility-color-divider);
					}
				}
			}
		}
	}

	.header-container {
		.inner {
			@include flex-layout($fd: column, $ai: normal);
			//web 전용 속성
			@include size-large-more {
				gap: var(--upl-header--container-gap);
				padding-top: var(--upl-header--container-padding-top);
				padding-bottom: var(--upl-header--container-padding-bottom);
			}
		}
		.header-branding {
			@include flex-layout($ai: center);
		}
		.logo {
			display: inline-flex;
			@include square(13.7rem, var(--upl-size-height-7));
			@include size-medium {
				@include square(9.4rem, 3.2rem);
			}
			a {
				display: block;
				@include square(100%);
				background-image: url(#{$url}/img/component/icon/ico_logo_krds.svg);
				background-position: center;
				background-size: contain;
				background-repeat: no-repeat;
			}
		}
		.header-actions {
			display: inline-flex;
			gap: var(--upl-gap-3);
			margin-left: auto;
		}
		.btn-navi {
			@include flex-layout($d: inline-flex, $fd: column, $jc: space-between, $ai: center);
			gap: var(--upl-header--navi-gap);
			min-height: var(--upl-header--navi-min-height);
			padding: var(--upl-header--navi-padding);
			border-radius: var(--upl-header--navi-border-radius);
			font-size: var(--upl-header--navi-font-size-pc);
			font-weight: var(--upl-font-weight-bold);
			color: var(--upl-header--navi-color-text);
			transition: var(--upl-transition-base);
			&::before {
				display: inline-flex;
				@include pseudo();
				@include svg-icon($size: var(--upl-icon--size-medium), $mode: #{$mode-setting});
			}
			&:hover {
				background-color: var(--upl-header--navi-color-hover);
			}
			&:active,
			&:focus {
				background-color: var(--upl-header--navi-color-pressed);
			}
			&.navi-row {
				flex-direction: row;
			}
			&.sch {
				&::before {
					@include icon-set(ico_sch);
				}
			}
			&.login {
				&::before {
					@include icon-set(ico_login);
				}
			}
			&.join {
				&::before {
					@include icon-set(ico_join);
				}
			}
			&.my {
				&::before {
					@include icon-set(ico_my);
				}
			}
			&.all {
				&::before {
					@include icon-set(ico_all);
				}
			}
		}
	}
}

/* 스크롤 동작 */
#wrap {
	&[class*="scroll"] {
		#upl-header:not(.sample) {
			position: relative;
			border-bottom: 0.1rem solid var(--upl-header--utility-color-divider);
			.header-in {
				position: fixed;
				top: 0;
				left: 0;
				z-index: 100;
				width: 100%;
				border-bottom: 0.1rem solid var(--upl-header--utility-color-divider);
				background-color: var(--upl-header--color-surface);
				transition: transform ease 0.4s 0.01s;
			}
		}
	}
	&.scroll-down {
		#upl-header:not(.sample) {
			.header-in {
				transform: translateY(-100%);
			}
		}
	}
	&.scroll-up {
		#upl-header:not(.sample) {
			.header-in {
				transform: translateY(0);
			}
		}
	}
}

//고대비모드
@include color-mode($mode: dark) {
	//모드 설정
	$mode-setting: dark;

	#upl-header {
		@include header-color-variable(#{$mode-setting});
		.inner {
			border-bottom-color: var(--upl-#{$mode-setting}-color-divider-gray-light);
		}
		.header-container {
			.btn-navi {
				&::before {
					@include svg-icon(var(--upl-icon--size-medium), $mode: #{$mode-setting});
				}
			}
			.logo {
				a {
					background-image: url(#{$url}/img/component/icon/ico_logo_krds_high_contrast.svg);
				}
			}
		}
	}
}

//web 전용 속성
@include size-large-more {
	#upl-header {
		.header-container {
			.btn-navi {
				&.all {
					display: none;
				}
			}
		}
	}

	.is-gnb-web {
		overflow: hidden;
		#wrap {
			&.scroll-down {
				#upl-header {
					.header-in {
						transform: translateY(0);
					}
				}
			}
		}
		&.hasScrollY {
			#upl-masthead,
			#upl-header .header-container,
			#upl-header .upl-main-menu,
			#upl-header .gnb-toggle-wrap,
			#container,
			#upl-footer {
				padding-right: 1.7rem;
			}
			#upl-footer .foot-quick {
				padding-right: 1.7rem;
				margin-right: -1.7rem;
			}
		}
	}
}

//태블릿 & 모바일 전용 속성
@include size-large-less {
	#upl-header {
		.inner {
			padding-top: var(--upl-gap-3);
			padding-bottom: var(--upl-gap-3);
			border-bottom: var(--upl-#{$mode-setting}-border-width-static-regular) solid var(--upl-#{$mode-setting}-color-divider-gray-light);
		}

		.header-container {
			.header-utility {
				display: none;
			}
			.btn-navi {
				&.navi-row {
					flex-direction: column;
				}
				&.join,
				&.my {
					display: none;
				}
			}
			.my-drop{
				display: none;
			}
		}
	}
}

//모바일 전용
@include size-medium {
	#upl-header {
		.header-container {
			.header-actions{
				gap: 0;
			}
			.btn-navi {
				font-size: var(--upl-header--navi-font-size-mobile);
			}
		}
	}
}