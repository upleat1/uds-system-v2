/* 툴팁 */
//사이즈 정의
@mixin tooltip-size-variable() {
	--upl-tooltip--popover-radius: var(--upl-radius-small3);
	--upl-tooltip--popover-radius-box: var(--upl-radius-xlarge2);
	--upl-tooltip--popover-contents-pc-font-size: var(--upl-pc-font-size-body-small);
	--upl-tooltip--popover-contents-mobile-font-size: var(--upl-mobile-font-size-body-small);
	--upl-tooltip--popover-margin-x: 2.4rem;
}

//컬러 정의
@mixin tooltip-color-variable($mode: light) {
	--upl-tooltip--popover-inline-color-text: var(--upl-#{$mode}-color-text-basic-inverse);
	--upl-tooltip--popover-box-color-text: var(--upl-#{$mode}-color-text-basic);
	--upl-tooltip--popover-color-border: var(--upl-#{$mode}-color-border-gray);
	--upl-tooltip--popover-color-surface: var(--upl-#{$mode}-color-surface-inverse);
	--upl-tooltip--popover-box-color-surface: var(--upl-#{$mode}-color-surface-white-subtler);
}

//모드 설정
$mode-setting: light;
.upl-tooltip-popover {
	@include tooltip-size-variable();
	@include tooltip-color-variable(#{$mode-setting});

	display: none;
	position: fixed;
	z-index: 100;
	white-space: nowrap;
	font-size: var(--upl-tooltip--popover-contents-pc-font-size);
	border-radius: var(--upl-tooltip--popover-radius);
	padding: var(--upl-padding-2) var(--upl-padding-5);
	color: var(--upl-tooltip--popover-inline-color-text);
	background-color: var(--upl-tooltip--popover-color-surface);
  top: 0;
  left: 0;
	&.active {
		display: block;
	}
	&::before {
		--tooltip-arrow-size: 0.8rem;
		--tooltip-arrow-gap: calc((var(--tooltip-arrow-size) / 2) * -1);
		@include pseudo();
		@include square(var(--tooltip-arrow-size));
		display: block;
		position: absolute;
		background-color: var(--upl-tooltip--popover-color-surface);
		left: var(--tooltip-arrow-gap);
		top: 50%;
		transform: translateY(-50%) rotate(45deg);
	}
	&.tooltip-box {
		white-space: normal;
		max-width: 36rem;
		border: 0.1rem solid var(--upl-tooltip--popover-color-border);
		border-radius: var(--upl-tooltip--popover-radius-box);
		padding: var(--upl-padding-8);
		color: var(--upl-tooltip--popover-box-color-text);
		background-color: var(--upl-tooltip--popover-box-color-surface);
		&::before {
			--tooltip-arrow-size: 1.2rem;
			border: 0.1rem solid var(--upl-tooltip--popover-color-border);
			border-top-color: transparent;
			border-left-color: transparent;
			background-color: var(--upl-tooltip--popover-box-color-surface);
		}
	}
	&.right {
		&::before {
			left: calc(100% + var(--tooltip-arrow-gap));
		}
	}
	&.bottom,
	&.top {
		&::before {
			top: calc(100% + var(--tooltip-arrow-gap));
			left: 50%;
			transform: translateX(-50%) rotate(45deg);
		}
		&.right {
			&::before {
				left: calc(100% - var(--upl-tooltip--popover-margin-x));
			}
		}
		&.left {
			&::before {
				left: var(--upl-tooltip--popover-margin-x);
			}
		}
	}
	&.bottom {
		&::before {
			top: var(--tooltip-arrow-gap);
		}
		&.tooltip-box {
			&::before {
				transform: translateX(-50%) rotate(-135deg);
			}
		}
	}
}

//고대비모드
@include color-mode($mode: dark) {
	//모드 설정
	$mode-setting: dark;
	.upl-tooltip-popover {
		@include tooltip-color-variable(#{$mode-setting});
	}
}

//responsive mobile
@include size-medium {
	.upl-tooltip-popover {
		font-size: var(--upl-tooltip--popover-contents-mobile-font-size);
	}
}

@media (max-width: 420px) {
	.upl-tooltip-popover {
		width: calc(100% - (var(--upl-contents-padding-x) * 2));
		@include position-center(x);
		&::before {
			display: none;
		}
		&.tooltip-box {
			max-width: 100%;
		}
	}
}